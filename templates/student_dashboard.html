{% extends 'base.html' %}

{% block title %} Student Dashboard {% endblock %}

{% block content %}
<main class="bg-transparent">
    <!-- banner section -->
    <section>
        <div class="container-fluid-2">
            <div
                class="bg-skycolor p-5 md:p-10 rounded-5 flex justify-center md:justify-between items-center flex-wrap gap-2">
                <div class="flex items-center flex-wrap justify-center sm:justify-start">
                    <div class="mr-5">
                        <img src="../../assets/images/teacher/teacher__2.png" alt=""
                            class="w-27 h-27 md:w-22 md:h-22 lg:w-27 lg:h-27 rounded-full p-1 border-2 border-darkdeep7 box-content">
                    </div>
                    <div class="text-whiteColor font-bold text-center sm:text-start">
                        <h5 class="text-2xl leading-1.24 mb-5px">Hello</h5>
                        <ul class="flex items-center gap-15px">
                            <li class="text-sm font-normal flex items-center gap-0.5">
                                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="24" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" class="feather feather-book-open">
                                    <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path>
                                    <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>
                                </svg>
                                9 Courses Enroled
                            </li>
                            <li class="text-sm font-normal flex items-center gap-0.5">
                                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="24" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" class="feather feather-award">
                                    <circle cx="12" cy="8" r="7"></circle>
                                    <polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"></polyline>
                                </svg>
                                8 Certificate
                            </li>
                        </ul>
                    </div>
                </div>

                <div>
                    <a href="create-course.html"
                        class="text-size-15 text-whiteColor bg-secondaryColor px-25px py-10px border border-secondaryColor hover:text-secondaryColor hover:bg-whiteColor rounded group text-nowrap flex gap-1 items-center">
                        Create a New Course
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            class="feather feather-arrow-right">
                            <line x1="5" y1="12" x2="19" y2="12"></line>
                            <polyline points="12 5 19 12 12 19"></polyline>
                        </svg>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!--dashbord menu section -->
    <section>
        <div class="container-fluid-2">
            <div class="grid grid-cols-1 lg:grid-cols-12 gap-30px pt-30px pb-100px">
                <div class="lg:col-start-1 lg:col-span-3">
                    <!-- navigation menu -->
                    {% include 'includes/profile_left.html' %}
                </div>
                <!-- dashboard content -->
                <div class="lg:col-start-4 lg:col-span-9">
                    <!-- counter -->
                    <div
                        class="p-10px md:px-10 md:py-50px mb-30px bg-whiteColor dark:bg-whiteColor-dark shadow-accordion dark:shadow-accordion-dark rounded-5">
                        <div class="mb-6 pb-5 border-b-2 border-borderColor dark:border-borderColor-dark">
                            <h2 class="text-2xl font-bold text-blackColor dark:text-blackColor-dark">
                                Kurslar statistikasi
                            </h2>
                        </div>

                        <!-- counter area -->
                        <div class="counter grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-x-30px gap-y-5 pb-5">
                            <div
                                class="p-5 md:px-10 md:py-50px bg-lightGrey5 dark:bg-whiteColor-dark rounded-lg2 shadow-accordion-dark">
                                <div class="flex gap-4">
                                    <div>
                                        <img src="../../assets/images/counter/counter__1.png" alt="">
                                    </div>
                                    <div>
                                        <p
                                            class="text-size-34 leading-[1.1] text-blackColor font-bold font-hind dark:text-blackColor-dark">
                                            <span data-countup-number="27"> 27</span><span>+</span>
                                        </p>
                                        <p class="text-blackColor font-medium leading-[18px] dark:text-blackColor-dark">
                                            A'zo Kurslar
                                        </p>
                                    </div>
                                </div>
                            </div>
                            <div
                                class="p-5 md:px-10 md:py-50px bg-lightGrey5 dark:bg-whiteColor-dark rounded-lg2 shadow-accordion-dark">
                                <div class="flex gap-4">
                                    <div>
                                        <img src="../../assets/images/counter/counter__2.png" alt="">
                                    </div>
                                    <div>
                                        <p
                                            class="text-size-34 leading-[1.1] text-blackColor font-bold font-hind dark:text-blackColor-dark">
                                            <span data-countup-number="8">8</span><span>+</span>
                                        </p>
                                        <p class="text-blackColor font-medium leading-[18px] dark:text-blackColor-dark">
                                            Arxiv Kurslar
                                        </p>
                                    </div>
                                </div>
                            </div>
                            <div
                                class="p-5 md:px-10 md:py-50px bg-lightGrey5 dark:bg-whiteColor-dark rounded-lg2 shadow-accordion-dark">
                                <div class="flex gap-4">
                                    <div>
                                        <img src="../../assets/images/counter/counter__3.png" alt="">
                                    </div>
                                    <div>
                                        <p
                                            class="text-size-34 leading-[1.1] text-blackColor font-bold font-hind dark:text-blackColor-dark">
                                            <span data-countup-number="12">12</span>
                                        </p>
                                        <p class="text-blackColor font-medium leading-[18px] dark:text-blackColor-dark">
                                            Tugatilgan Kurslar
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div
                        class="p-10px md:px-10 md:py-50px mb-30px bg-whiteColor dark:bg-whiteColor-dark shadow-accordion dark:shadow-accordion-dark rounded-5 max-h-137.5 overflow-auto">
                        <div
                            class="mb-6 pb-5 border-b-2 border-borderColor dark:border-borderColor-dark flex items-center justify-between gap-2 flex-wrap">
                            <h2 class="text-2xl font-bold text-blackColor dark:text-blackColor-dark">
                                Test Natijalari
                            </h2>
                        </div>
                        <div class="overflow-auto">
                            <div>
                                <canvas id="quizChart"></canvas>
                            </div>
                            
                            <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
                            
                            <script>
                                const ctx = document.getElementById('quizChart');
                                
                                new Chart(ctx, {
                                    type: 'line',
                                    data: {
                                        labels: {{ quiz_labels|safe }},
                                        datasets: [{
                                            label: 'Test Results (%)',
                                            data: {{ quiz_percentages }},
                                            backgroundColor: 'rgba(54, 162, 235, 0.5)',
                                            borderColor: 'rgba(54, 162, 235, 1)',
                                            borderWidth: 1
                                        }]
                                    },
                                    options: {
                                        responsive: true,
                                        scales: {
                                            y: {
                                                beginAtZero: true,
                                                max: 100,
                                                title: {
                                                    display: true,
                                                    text: 'Test natijalari'
                                                }
                                            },
                                            x: {
                                                title: {
                                                    display: true,
                                                    text: 'Test nomi'
                                                }
                                            }
                                        },
                                        plugins: {
                                            tooltip: {
                                                callbacks: {
                                                    label: function(context) {
                                                        return context.parsed.y + '%';
                                                    }
                                                }
                                            }
                                        }
                                    }
                                });
                            </script>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</main>
{% endblock %}